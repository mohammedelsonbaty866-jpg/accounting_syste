<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <title>Ø¨Ø±Ù†Ø§Ù…Ø¬ Ù…Ø­Ø§Ø³Ø¨ÙŠ</title>
    <style>
        body {
            font-family: Arial;
            direction: rtl;
            text-align: center;
            background: #f5f5f5;
        }
        input, select, button {
            padding: 10px;
            margin: 5px;
        }
        table {
            margin: auto;
            border-collapse: collapse;
            width: 95%;
            background: #fff;
        }
        th, td {
            border: 1px solid #000;
            padding: 8px;
        }
        th {
            background: #ddd;
        }
        .income { color: green; }
        .expense { color: red; }
    </style>
</head>
<body>

<h2>ğŸ“Š Ø¨Ø±Ù†Ø§Ù…Ø¬ Ù…Ø­Ø§Ø³Ø¨ÙŠ (Ø¥ÙŠØ±Ø§Ø¯Ø§Øª ÙˆÙ…ØµØ±ÙˆÙØ§Øª)</h2>

<input id="name" placeholder="Ø§Ù„Ø¨ÙŠØ§Ù†">
<input id="amount" type="number" placeholder="Ø§Ù„Ù…Ø¨Ù„Øº">

<select id="type">
    <option value="income">Ø¥ÙŠØ±Ø§Ø¯</option>
    <option value="expense">Ù…ØµØ±ÙˆÙ</option>
</select>

<button onclick="add()">Ø¥Ø¶Ø§ÙØ©</button>

<br><br>

<table>
    <thead>
        <tr>
            <th>Ø§Ù„Ø¨ÙŠØ§Ù†</th>
            <th>Ø§Ù„Ù†ÙˆØ¹</th>
            <th>Ø§Ù„Ù…Ø¨Ù„Øº</th>
            <th>Ø­Ø°Ù</th>
        </tr>
    </thead>
    <tbody id="data"></tbody>
</table>

<h3 id="total"></h3>

<script>
let data = JSON.parse(localStorage.getItem("accounts")) || [];

function render() {
    let table = "";
    let total = 0;

    data.forEach((item, index) => {
        let sign = item.type === "income" ? 1 : -1;
        total += sign * Number(item.amount);

        table += `
        <tr>
            <td>${item.name}</td>
            <td class="${item.type}">
                ${item.type === "income" ? "Ø¥ÙŠØ±Ø§Ø¯" : "Ù…ØµØ±ÙˆÙ"}
            </td>
            <td>${item.amount}</td>
            <td><button onclick="removeItem(${index})">âŒ</button></td>
        </tr>
        `;
    });

    document.getElementById("data").innerHTML = table;
    document.getElementById("total").innerText = "Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ: " + total;
}

function add() {
    let name = document.getElementById("name").value;
    let amount = document.getElementById("amount").value;
    let type = document.getElementById("type").value;

    if (name && amount) {
        data.push({ name, amount, type });
        localStorage.setItem("accounts", JSON.stringify(data));
        document.getElementById("name").value = "";
        document.getElementById("amount").value = "";
        render();
    }
}

function removeItem(index) {
    data.splice(index, 1);
    localStorage.setItem("accounts", JSON.stringify(data));
    render();
}

render();
</script>

</body>
</html>
