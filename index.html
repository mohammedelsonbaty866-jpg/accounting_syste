<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <title>Ø¨Ø±Ù†Ø§Ù…Ø¬ Ù…Ø­Ø§Ø³Ø¨ÙŠ</title>
    <style>
        body {
            font-family: Arial;
            direction: rtl;
            text-align: center;
            background: #f5f5f5;
        }
        input, select, button {
            padding: 10px;
            margin: 5px;
        }
        table {
            margin: auto;
            border-collapse: collapse;
            width: 95%;
            background: #fff;
        }
        th, td {
            border: 1px solid #000;
            padding: 8px;
        }
        th {
            background: #ddd;
        }
        .income { color: green; }
        .expense { color: red; }
        .box {
            display: inline-block;
            padding: 15px;
            margin: 10px;
            background: #fff;
            border: 1px solid #000;
            width: 250px;
        }
    </style>
</head>
<body>

<h2>ğŸ“Š Ø¨Ø±Ù†Ø§Ù…Ø¬ Ù…Ø­Ø§Ø³Ø¨ÙŠ</h2>

<input id="name" placeholder="Ø§Ù„Ø¨ÙŠØ§Ù†">
<input id="amount" type="number" placeholder="Ø§Ù„Ù…Ø¨Ù„Øº">

<select id="type">
    <option value="income">Ø¥ÙŠØ±Ø§Ø¯</option>
    <option value="expense">Ù…ØµØ±ÙˆÙ</option>
</select>

<button onclick="add()">Ø¥Ø¶Ø§ÙØ©</button>

<br><br>

<div class="box income" id="totalIncome">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª: 0</div>
<div class="box expense" id="totalExpense">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª: 0</div>
<div class="box" id="net">Ø§Ù„ØµØ§ÙÙŠ: 0</div>

<br><br>

<table>
    <thead>
        <tr>
            <th>Ø§Ù„Ø¨ÙŠØ§Ù†</th>
            <th>Ø§Ù„Ù†ÙˆØ¹</th>
            <th>Ø§Ù„Ù…Ø¨Ù„Øº</th>
            <th>Ø­Ø°Ù</th>
        </tr>
    </thead>
    <tbody id="data"></tbody>
</table>

<script>
let data = JSON.parse(localStorage.getItem("accounts")) || [];

function render() {
    let table = "";
    let income = 0;
    let expense = 0;

    data.forEach((item, index) => {
        if (item.type === "income") {
            income += Number(item.amount);
        } else {
            expense += Number(item.amount);
        }

        table += `
        <tr>
            <td>${item.name}</td>
            <td class="${item.type}">
                ${item.type === "income" ? "Ø¥ÙŠØ±Ø§Ø¯" : "Ù…ØµØ±ÙˆÙ"}
            </td>
            <td>${item.amount}</td>
            <td><button onclick="removeItem(${index})">âŒ</button></td>
        </tr>
        `;
    });

    document.getElementById("data").innerHTML = table;
    document.getElementById("totalIncome").innerText = "Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª: " + income;
    document.getElementById("totalExpense").innerText = "Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª: " + expense;
    document.getElementById("net").innerText = "Ø§Ù„ØµØ§ÙÙŠ: " + (income - expense);
}

function add() {
    let name = document.getElementById("name").value;
    let amount = document.getElementById("amount").value;
    let type = document.getElementById("type").value;

    if (name && amount) {
        data.push({ name, amount, type });
        localStorage.setItem("accounts", JSON.stringify(data));
        document.getElementById("name").value = "";
        document.getElementById("amount").value = "";
        render();
    }
}

function removeItem(index) {
    data.splice(index, 1);
    localStorage.setItem("accounts", JSON.stringify(data));
    render();
}

render();
</script>

</body>
</html>
