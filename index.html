<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ø¨Ø±Ù†Ø§Ù…Ø¬ Ù…Ø­Ø§Ø³Ø¨ÙŠ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --main:#2c3e50;
  --accent:#1abc9c;
  --bg:#f4f6f8;
  --card:#ffffff;
  --danger:#e74c3c;
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family: "Segoe UI", Tahoma, Arial;
  direction: rtl;
  background: var(--bg);
}

/* ===== Header ===== */
header{
  background: var(--main);
  color:#fff;
  padding:15px;
  text-align:center;
  font-size:18px;
}

/* ===== Navigation ===== */
nav{
  display:flex;
  justify-content:space-around;
  background:#fff;
  border-bottom:1px solid #ddd;
}
nav button{
  flex:1;
  padding:12px;
  border:none;
  background:none;
  font-size:15px;
}
nav button:hover{
  background:var(--bg);
}

/* ===== Layout ===== */
.container{
  padding:12px;
}
.card{
  background:var(--card);
  border-radius:8px;
  padding:12px;
  margin-bottom:12px;
  box-shadow:0 2px 6px rgba(0,0,0,.1);
}

/* ===== Inputs ===== */
input,select,button{
  width:100%;
  padding:12px;
  margin:6px 0;
  border-radius:6px;
  border:1px solid #ccc;
  font-size:15px;
}

button.primary{
  background:var(--accent);
  color:#fff;
  border:none;
}
button.danger{
  background:var(--danger);
  color:#fff;
  border:none;
}

/* ===== Table ===== */
table{
  width:100%;
  border-collapse:collapse;
}
th,td{
  padding:8px;
  border-bottom:1px solid #eee;
  text-align:center;
}
th{
  background:#fafafa;
}
.income{color:green;font-weight:bold}
.expense{color:red;font-weight:bold}

/* ===== Report ===== */
.report-box{
  text-align:center;
  padding:10px;
  border-radius:6px;
  margin-bottom:8px;
}
.report-income{background:#eafaf1;color:#27ae60}
.report-expense{background:#fdecea;color:#c0392b}
.report-net{background:#ecf0f1;font-weight:bold}

/* ===== Utils ===== */
.hidden{display:none}
</style>
</head>

<body>

<header id="companyHeader">ğŸ“Š Ø¨Ø±Ù†Ø§Ù…Ø¬ Ù…Ø­Ø§Ø³Ø¨ÙŠ</header>

<nav>
  <button onclick="show('entries')">â• Ø§Ù„Ù‚ÙŠÙˆØ¯</button>
  <button onclick="show('report')">ğŸ“ˆ Ø§Ù„ØªÙ‚Ø±ÙŠØ±</button>
  <button onclick="show('settings')">âš™ï¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</button>
</nav>

<div class="container">

<!-- ===== Ø§Ù„Ù‚ÙŠÙˆØ¯ ===== -->
<div id="entries" class="card">
  <input id="name" placeholder="Ø§Ù„Ø¨ÙŠØ§Ù†">
  <input id="amount" type="number" placeholder="Ø§Ù„Ù…Ø¨Ù„Øº">
  <select id="type">
    <option value="income">Ø¥ÙŠØ±Ø§Ø¯</option>
    <option value="expense">Ù…ØµØ±ÙˆÙ</option>
  </select>

  <button class="primary" onclick="add()">Ø¥Ø¶Ø§ÙØ©</button>
  <button class="danger" onclick="clearAll()">Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„</button>

  <br><br>

  <table>
    <thead>
      <tr>
        <th>Ø§Ù„Ø¨ÙŠØ§Ù†</th>
        <th>Ø§Ù„Ù†ÙˆØ¹</th>
        <th>Ø§Ù„Ù…Ø¨Ù„Øº</th>
        <th></th>
      </tr>
    </thead>
    <tbody id="data"></tbody>
  </table>
</div>

<!-- ===== Ø§Ù„ØªÙ‚Ø±ÙŠØ± ===== -->
<div id="report" class="hidden">
  <div class="card report-box report-income" id="totalIncome">
    Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª: 0
  </div>
  <div class="card report-box report-expense" id="totalExpense">
    Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª: 0
  </div>
  <div class="card report-box report-net" id="net">
    Ø§Ù„ØµØ§ÙÙŠ: 0
  </div>
</div>

<!-- ===== Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ===== -->
<div id="settings" class="hidden card">
  <input id="companyName" placeholder="Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ©">
  <button class="primary" onclick="saveCompany()">Ø­ÙØ¸ Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ©</button>
</div>

</div>

<script>
/* ===== Ø¨ÙŠØ§Ù†Ø§Øª ===== */
let data = JSON.parse(localStorage.getItem("accounts")) || [];
let COMPANY = localStorage.getItem("company") || "Ø¨Ø±Ù†Ø§Ù…Ø¬ Ù…Ø­Ø§Ø³Ø¨ÙŠ";
document.getElementById("companyHeader").innerText = "ğŸ“Š " + COMPANY;

/* ===== ØªÙ†Ù‚Ù„ ===== */
function show(id){
  ["entries","report","settings"].forEach(x=>{
    document.getElementById(x).classList.add("hidden");
  });
  document.getElementById(id).classList.remove("hidden");
}

/* ===== Ø¹Ø±Ø¶ ===== */
function render(){
  let html="", inc=0, exp=0;
  data.forEach((i,n)=>{
    i.type==="income"?inc+=+i.amount:exp+=+i.amount;
    html+=`
    <tr>
      <td>${i.name}</td>
      <td class="${i.type}">${i.type==="income"?"Ø¥ÙŠØ±Ø§Ø¯":"Ù…ØµØ±ÙˆÙ"}</td>
      <td>${i.amount}</td>
      <td><button onclick="removeItem(${n})">âŒ</button></td>
    </tr>`;
  });
  document.getElementById("data").innerHTML=html;
  document.getElementById("totalIncome").innerText="Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª: "+inc;
  document.getElementById("totalExpense").innerText="Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª: "+exp;
  document.getElementById("net").innerText="Ø§Ù„ØµØ§ÙÙŠ: "+(inc-exp);
}

/* ===== Ø¥Ø¶Ø§ÙØ© ===== */
function add(){
  let n=document.getElementById("name").value;
  let a=document.getElementById("amount").value;
  let t=document.getElementById("type").value;
  if(n && a){
    data.push({name:n,amount:a,type:t});
    localStorage.setItem("accounts",JSON.stringify(data));
    name.value=amount.value="";
    render();
  }
}

/* ===== Ø­Ø°Ù ===== */
function removeItem(i){
  data.splice(i,1);
  localStorage.setItem("accounts",JSON.stringify(data));
  render();
}

function clearAll(){
  if(confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ")){
    data=[];
    localStorage.removeItem("accounts");
    render();
  }
}

/* ===== Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ===== */
function saveCompany(){
  let c=companyName.value;
  if(c){
    localStorage.setItem("company",c);
    companyHeader.innerText="ğŸ“Š "+c;
    alert("ØªÙ… Ø§Ù„Ø­ÙØ¸");
  }
}

render();
</script>

</body>
</html>
